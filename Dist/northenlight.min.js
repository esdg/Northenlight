!function(t,e){"use strict";function g(){return s(),t.addEventListener("resize",s),this}function s(){l(),u(),h()}function l(){for(var e=m(a._CANVAS_ATTR_PREFIX_),r=e.length-1;r>=0;r--)switch(I(e[r])){case i._CANVASMODE_HSTACK_:for(var n=0,o=0,p=e[r].children,d=0;d<p.length;d++)p[d].style.left=n+"px",n=Math.round(n+p[d].trueWidth),p[d].trueHeight>o&&(o=p[d].trueHeight),e[r].style.width=n+parseInt(t.getComputedStyle(e[r]).paddingLeft,10)+parseInt(t.getComputedStyle(e[r]).paddingRight,10)+"px",e[r].style.height=o+parseInt(t.getComputedStyle(e[r]).paddingBottom,10)+parseInt(t.getComputedStyle(e[r]).paddingTop,10)+"px";break;case i._CANVASMODE_VSTACK_:for(var _=0,g=0,p=e[r].children,d=0;d<p.length;d++)p[d].style.top=_+"px",_=Math.round(_+p[d].trueHeight),p[d].trueWidth>g&&(g=p[d].trueWidth),e[r].style.height=_+parseInt(t.getComputedStyle(e[r]).paddingTop,10)+parseInt(t.getComputedStyle(e[r]).paddingBottom,10)+"px",e[r].style.width=g+parseInt(t.getComputedStyle(e[r]).paddingLeft,10)+parseInt(t.getComputedStyle(e[r]).paddingRight,10)+"px"}}function u(){for(var e=m(a._VALIGN_ATTR_PREFIX_),r=e.length-1;r>=0;r--)switch(y(e[r])){case o._VALIGNMODE_TOP_:e[r].setBaseAttribute(d._MARGIN_TOP_,parseInt(t.getComputedStyle(e[r]).marginTop)),e[r].style.top=0,e[r].style.marginTop=parseInt(t.getComputedStyle(e[r].parentNode).paddingTop)+parseInt(e[r].getAttribute(d._MARGIN_TOP_))+"px";break;case o._VALIGNMODE_BOTTOM_:e[r].setBaseAttribute(d._MARGIN_BOTTOM_,parseInt(t.getComputedStyle(e[r]).marginBottom)),console.log(e[r].getAttribute(d._MARGIN_BOTTOM_)),e[r].style.bottom=0,e[r].style.marginBottom=parseInt(t.getComputedStyle(e[r].parentNode).paddingBottom)+parseInt(e[r].getAttribute(d._MARGIN_BOTTOM_))+"px";break;case o._VALIGNMODE_MIDDLE_:var n=parseInt(e[r].clientHeight);e[r].style.top=Math.round((parseInt(t.getComputedStyle(e[r].parentNode).height)-n)/2)+"px",e[r].style.bottom=Math.round((parseInt(t.getComputedStyle(e[r].parentNode).height)-n)/2)+"px",e[r].style.marginTop=parseInt(t.getComputedStyle(e[r].parentNode).paddingTop)+parseInt(t.getComputedStyle(e[r]).marginTop)+"px",e[r].style.marginBottom=parseInt(t.getComputedStyle(e[r].parentNode).paddingBottom)+parseInt(t.getComputedStyle(e[r]).marginBottom)+"px"}}function h(){for(var e=m(a._HALIGN_ATTR_PREFIX_),r=e.length-1;r>=0;r--)switch(f(e[r])){case p._HALIGNMODE_LEFT_:e[r].style.left=0,e[r].setBaseAttribute(d._MARGIN_LEFT_,parseInt(t.getComputedStyle(e[r]).marginLeft)),e[r].style.marginLeft=parseInt(t.getComputedStyle(e[r].parentNode).paddingLeft)+parseInt(e[r].getAttribute(d._MARGIN_LEFT_))+"px";break;case p._HALIGNMODE_RIGHT_:e[r].style.right=0,e[r].setBaseAttribute(d._MARGIN_RIGHT_,parseInt(t.getComputedStyle(e[r]).marginRight)),e[r].style.marginRight=parseInt(t.getComputedStyle(e[r].parentNode).paddingRight)+parseInt(e[r].getAttribute(d._MARGIN_RIGHT_))+"px";break;case p._HALIGNMODE_CENTER_:var n=parseInt(e[r].clientWidth);e[r].style.left=Math.round((parseInt(t.getComputedStyle(e[r].parentNode).width)-n)/2)+"px",e[r].style.right=Math.round((parseInt(t.getComputedStyle(e[r].parentNode).width)-n)/2)+"px",e[r].style.marginRight=parseInt(t.getComputedStyle(e[r].parentNode).paddingRight)+parseInt(t.getComputedStyle(e[r]).marginRight)+"px",e[r].style.marginLeft=parseInt(t.getComputedStyle(e[r].parentNode).paddingLeft)+parseInt(t.getComputedStyle(e[r]).marginLeft)+"px"}}function m(t){for(var r=new Array,n=e.getElementsByTagName("*"),a=0;a<n.length;a++)for(var i=n[a].attributes,o=0;o<i.length;o++)i[o].name.indexOf(t)>-1&&r.push(n[a]);return r}function I(t){for(var e,r=t.attributes,n=0;n<r.length;n++)r[n].name.indexOf(a._CANVAS_ATTR_PREFIX_)>-1&&(e=r[n].value);return e}function y(t){for(var e,r=t.attributes,n=0;n<r.length;n++)r[n].name.indexOf(a._VALIGN_ATTR_PREFIX_)>-1&&(e=r[n].value);return e}function f(t){for(var e,r=t.attributes,n=0;n<r.length;n++)r[n].name.indexOf(a._HALIGN_ATTR_PREFIX_)>-1&&(e=r[n].value);return e}var _,n={get:function(){return _},init:function(t){return _||new g(t)},VERSION:"0.0.1"},a={_CANVAS_ATTR_PREFIX_:"nl-canvas",_VALIGN_ATTR_PREFIX_:"nl-valign",_HALIGN_ATTR_PREFIX_:"nl-halign"},i={_CANVASMODE_HSTACK_:"h-stack",_CANVASMODE_VSTACK_:"v-stack"},o={_VALIGNMODE_TOP_:"top",_VALIGNMODE_BOTTOM_:"bottom",_VALIGNMODE_MIDDLE_:"middle"},p={_HALIGNMODE_LEFT_:"left",_HALIGNMODE_RIGHT_:"right",_HALIGNMODE_CENTER_:"center"},d={_TOP_:"__TOP__",_BOTTOM_:"__BOTTOM__",_LEFT_:"__LEFT__",_RIGHT_:"__RIGHT__",_MARGIN_TOP_:"__MARGIN_TOP__",_MARGIN_BOTTOM_:"__MARGIN_BOTTOM__",_MARGIN_LEFT_:"__MARGIN_LEFT__",_MARGIN_RIGHT_:"__MARGIN_RIGHT__"};"function"==typeof define&&define.amd?define([],function(){return n}):"undefined"!=typeof module&&module.exports?module.exports=n:t.northenlight=n,Object.defineProperty(Element.prototype,"trueHeight",{get:function(){var e=this.clientHeight;return e+=parseInt(t.getComputedStyle(this).marginTop,10),e+=parseInt(t.getComputedStyle(this).marginBottom,10),e+=parseInt(t.getComputedStyle(this).borderTopWidth,10),e+=parseInt(t.getComputedStyle(this).borderBottomWidth,10)}}),Object.defineProperty(Element.prototype,"trueWidth",{get:function(){var e=this.clientWidth;return e+=parseInt(t.getComputedStyle(this).marginLeft,10),e+=parseInt(t.getComputedStyle(this).marginRight,10),e+=parseInt(t.getComputedStyle(this).borderLeftWidth,10),e+=parseInt(t.getComputedStyle(this).borderRightWidth,10)}}),Object.prototype.setBaseAttribute=function(t,e){this.getAttribute(t)||this.setAttribute(t,e)},Array.prototype.forEach||(Array.prototype.forEach=function(t){for(var e=0;e<this.length;e++)t(this[e],e,this)})}(window,document);